{"ast":null,"code":"var _jsxFileName = \"/Users/dr.mac/ankitBytechiperProject/frontend/src/pages/CategoryBasedPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport \"../styles/SearchResults.css\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport Product from '../components/Product';\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { listProducts } from '../actions/ProdcutActions';\nimport PriceCheckBox from '../components/PriceCheckBox';\nimport { prices } from \"../data/priceRanges\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CategoryBasedPage = props => {\n  _s();\n  const [range, setRange] = useState([0, 50000]);\n  const category = props.match.params.cat;\n  const dispatch = useDispatch();\n  const productList = useSelector(state => state.productList);\n  const {\n    loading,\n    error,\n    products\n  } = productList;\n  useEffect(() => {\n    dispatch(listProducts());\n  }, [dispatch]);\n  const handleFilters = filters => {\n    const data = prices;\n    let array = [];\n    for (let key in data) {\n      if (data[key].id === parseInt(filters, 10)) {\n        array = data[key].array;\n      }\n    }\n    setRange(array);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-options-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"clear-filter-btn\",\n        onClick: () => setRange([0, 50000]),\n        children: \"Clear filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Filter Price:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PriceCheckBox, {\n        list: prices,\n        handleFilters: filters => handleFilters(filters)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-page-product-container\",\n      children: loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 28\n      }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"sec-title\",\n          children: [\"Products under \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 62\n          }, this), \" category\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-product-container\",\n          children: products.filter(product => product.category.toLowerCase().includes(category.toLowerCase()) && product.price <= range[1] && product.price >= range[0]).map(filteredProduct => /*#__PURE__*/_jsxDEV(Product, {\n            product: filteredProduct\n          }, filteredProduct._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(CategoryBasedPage, \"U6umfY0X4imv72Z5budRbESWv7o=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = CategoryBasedPage;\nexport default CategoryBasedPage;\nvar _c;\n$RefreshReg$(_c, \"CategoryBasedPage\");","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","Product","LoadingBox","MessageBox","listProducts","PriceCheckBox","prices","jsxDEV","_jsxDEV","Fragment","_Fragment","CategoryBasedPage","props","_s","range","setRange","category","match","params","cat","dispatch","productList","state","loading","error","products","handleFilters","filters","data","array","key","id","parseInt","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","list","variant","filter","product","toLowerCase","includes","price","map","filteredProduct","_id","_c","$RefreshReg$"],"sources":["/Users/dr.mac/ankitBytechiperProject/frontend/src/pages/CategoryBasedPage.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport \"../styles/SearchResults.css\"\nimport { useSelector , useDispatch} from 'react-redux'\nimport Product from '../components/Product'\nimport LoadingBox from \"../components/LoadingBox\"\nimport MessageBox from \"../components/MessageBox\"\nimport { listProducts } from '../actions/ProdcutActions'\nimport PriceCheckBox from '../components/PriceCheckBox'\nimport {prices} from \"../data/priceRanges\";\n\n\nconst CategoryBasedPage = (props) => {\n\n    const [range, setRange] = useState([0,50000]);\n\n    const category = props.match.params.cat;\n    \n    const dispatch = useDispatch();\n\n    const productList = useSelector( state => state.productList);\n    const {loading,error,products} = productList;\n\n\n    useEffect(() => {\n        dispatch(listProducts());\n    }, [dispatch])\n\n\n\n    const handleFilters = (filters) => {\n\n        const data = prices;\n        let array = [];\n\n        for (let key in data) {\n            if (data[key].id === parseInt(filters, 10)) {\n                array = data[key].array;\n            }\n        }\n        setRange(array);\n    }\n\n\n\n    return (\n        <div className=\"search-page-container\">\n\n            <div className=\"filter-options-container\">\n                <button className=\"clear-filter-btn\" onClick={() => setRange([0,50000])}>\n                    Clear filters\n                </button>\n                <h3>\n                    Filter Price:\n                </h3>\n\n                <PriceCheckBox\n                list={prices}\n                handleFilters = {filters => handleFilters(filters)}\n                />\n                \n            </div>\n\n            <div className=\"search-page-product-container\">\n                {loading ? <LoadingBox />\n                :\n                error ? <MessageBox variant=\"danger\">{error}</MessageBox>\n                :\n                (\n                    <>\n                    <h2 className=\"sec-title\">Products under <span>{category}</span> category</h2>\n                    <div className=\"search-product-container\">\n\n                        {products.filter(product=>\n                                product.category.toLowerCase().includes(category.toLowerCase())\n                                && product.price <= range[1]\n                                && product.price >= range[0]\n                            ).map(filteredProduct => (\n                                <Product key={filteredProduct._id} product={filteredProduct} />\n                            ))\n                        }\n                    </div>\n                    </>\n                )\n                }\n\n            </div>\n        </div>\n    )\n}\n\nexport default CategoryBasedPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}